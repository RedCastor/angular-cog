/*! angular-cog - v1.0.0 */angular.module("angularCog",[]),angular.module("angularCog").directive("cogGet",["MakeRequestService",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){d.cogTrigger?b.$watch(d.cogTrigger,function(c){c&&a("get",null,b,d)}):a("get",null,b,d)}}}]),angular.module("angularCog").directive("cogPost",["MakeRequestService",function(a){return{restrict:"A",require:"^form",scope:!0,link:function(b,c,d){c.bind("submit",function(){var c=b[d.cogModel];a("post",c,b,d)})}}}]),angular.module("angularCog").directive("cogPut",["MakeRequestService",function(a){return{restrict:"A",require:"^form",scope:!0,link:function(b,c,d){c.bind("submit",function(){var c=b[d.cogModel];a("put",c,b,d)})}}}]),angular.module("angularCog").directive("cogDelete",["MakeRequestService",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){c.bind("click",function(){console.log("called"),a("delete",null,b,d)})}}}]),angular.module("angularCog").factory("MakeRequestService",["$http","CogConfig","SpinnerService",function(a,b,c){function d(d,f,g,h){function i(a,d,e,f){g.$data=a,g.$status=d,g.$headers=e,g.$config=f,b.enableSpinner&&!h.cogNoSpinner&&c.stop(),b.log(a,d,e,f)}a({method:d,url:e(d,h),data:f,config:g[h.CogConfig]}).success(function(a,c,d,e){i(a,c,d,e),g.$eval(h.cogSuccess),b.success(a,c,d,e)}).error(function(a,c,d,e){i(a,c,d,e),g.$eval(h.cogError),b.error(a,c,d,e)}),g.$$phase||g.$apply(),b.enableSpinner&&!h.cogNoSpinner&&c.spin()}function e(a,c){var d=c.cogAbsoluteUrl?"":b.rootUrl;switch(a){case"get":d+=c.cogGet;break;case"post":d+=c.cogPost;break;case"put":d+=c.cogPut;break;case"delete":d+=c.cogDelete}return d}return d}]),angular.module("angularCog").service("SpinnerService",["CogConfig",function(a){var b=["position:absolute;","top:50%;","left:50%;","z-index:2000"].join(""),c=angular.element("<div><img /></div>");c.attr("style",b),c.find("img").attr("src",a.imagePath);var d=["position:fixed;","top:0;","left:0;","width:100%;","height:100%;","background:white;","text-align:center;","opacity:0.7;"].join(""),e=angular.element("<div></div>");e.attr("style",d);var f=[],g=!1;return{spin:function(){f.push(1),g||(angular.element(document.body).append(e),angular.element(document.body).append(c),g=!0)},stop:function(){f.pop(),0==f.length&&(e.remove(),c.remove(),g=!1)}}}]),angular.module("angularCog").provider("CogConfig",function(){this.rootUrl="",this.log=angular.noop,this.imagePath="spinner.gif",this.error=angular.noop,this.success=angular.noop,this.enableSpinner=!0;var a=this;this.$get=function(){return a}});